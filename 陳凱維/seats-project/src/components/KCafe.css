/* --- Global Styles --- */
body {
  font-family: 'Montserrat', 'Noto Sans TC', sans-serif;
}


.kcafe-container {
  text-align: center;
  position: relative;
}

/* 如果只想改 KCafe 裡的 h1，可以更精準： */
.kcafe-container > h1 {
  font-size: 2.5rem;
}

.kcafe-container > h2 {
  font-size: 1.1rem;
}

.remaining {
  color: red;
}

/* --- Navbar --- */
.navbar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  padding: 10px;
  background-color: #f0f0f0;
  font-size: 18px;
  position: relative;  /* 如果还不是定位元素要加上 */
  z-index: 100;
}

/* 再把下拉菜单提到更上（可选） */
.menu-dropdown {
  z-index: 101;
}

.navbar button {
  padding: 5px 15px;
  font-size: 16px;
  cursor: pointer;
}

.menu-button {
  position: absolute;
  right: 10px;
  top: 10px;
  font-size: 24px;
  background: none;
  border: none;
  cursor: pointer;
}

.menu-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.menu-dropdown {
  position: absolute;
  right: 10px;
  top: 50px;
  background: white;
  border: 1px solid #ccc;
  display: flex;
  flex-direction: column;
  padding: 5px;
  gap: 5px;
}

/* --- Edit Controls --- */
.edit-controls {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  justify-content: center;
}

.edit-controls button {
  margin: 0 5px;
}

.edit-controls button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* --- Guest Button --- */
.go-guest-button {
  margin-left: 10px;
  padding: 5px 10px;
  background-color: #0077cc;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.go-guest-button:hover {
  background-color: #005fa3;
}

/* --- Background --- */
.background {
  position: relative;
  width: 100vw;
  height: calc(100vw);
  overflow: hidden;
}

.bg-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  -webkit-user-drag: none;
}

/* --- Seats --- */
.seat-container {
  position: absolute;
  transform: translate(-50%, -50%);
  text-align: center;
}

.seat {
  position: absolute;
  height: 30px;
  width: 30px;
  user-select: none;
}

.seat.pending {
  opacity: 0.5;
}

.seat.occupied {
  animation: blink 1s infinite;
  border: 2px solid red;
  border-radius: 50%;
  box-sizing: border-box;
}

.selected-delete {
  opacity: 0.5;
  border: 2px dashed red;
}

.selected-move {
  opacity: 0.7;
  border: 2px dashed blue;
}

/* --- Seat Numbers --- */
.seat-number {
  margin-top: 2px;
  font-size: 12px;
  color: black;
  font-weight: bold;
}

.seat-number.highlight {
  color: red;
  font-weight: 900;
}

/* --- QR Code Controls --- */
.qr-controls {
  display: flex;
  flex-direction: column;
  gap: 5px;
  margin-top: 10px;
}

.qr-controls select, .qr-controls button {
  padding: 5px;
  font-size: 14px;
}

/* --- Error Messages --- */
.error-message {
  color: red;
  margin-top: 5px;
  font-size: 14px;
}

.error-text {
  color: red;
  font-weight: bold;
}

/* --- Animations --- */
@keyframes blink {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* 桌子容器 */
.table-container {
  position: absolute;
  transform: translate(-50%, -50%);
  text-align: center;
}

.table-container:hover {
  /* 先維持原本的位移，然後再放大 */
  transform: translate(-50%, -50%) scale(1.1);
}

/* 桌子本體 */
.table {
  width: 50px;
  height: 50px;
  border: 2px solid #666;
  border-radius: 8px;
  background-color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* 客滿時的樣式 */
.table.full {
  background-color: #f88;
}

/* 部分佔用：微微染色 */
.table.partial {
  background-color: #ffeb3b; /* 黃色，代表部分有人 */
}

/* 桌號編號 */
.table-id {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: -4px;
}

/* 容量顯示 */
.table-info {
  font-size: 12px;
}

/* +/- 控制按鈕 */
.table-controls {
  margin-top: 4px;
  display: flex;
  gap: 4px;
  justify-content: center;
}
.table-controls button {
  width: 24px;
  height: 24px;
  font-size: 16px;
  line-height: 1;
  padding: 0;
  cursor: pointer;
}
.table-controls button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ── 「新增／刪除桌子」按鈕共用樣式 ── */
.add-table-button,
.delete-table-button {
  padding: 5px 15px;
  font-size: 16px;
  cursor: pointer;
  margin: 0 5px;
  background-color: #fff;
  border: 1px solid #666;
  border-radius: 4px;
}
.add-table-button:disabled,
.delete-table-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ── 刪除模式下，選中的桌子要高亮 ── */
.table-container.selected-delete .table {
  /* 加一圈紅色虛線框 */
  box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.8);
}

/* （可選）讓 .table-container.selected-delete 本身也微微半透明 */
.table-container.selected-delete {
  opacity: 0.8;
}

/* 如果你把 pending class 放在 .table-container 上，則這樣寫 */
.table-container.pending {
  opacity: 0.9;
  border: 2px dashed rgb(4, 255, 4);
  box-sizing: border-box;
}

/* 禁止桌子被選取文字，並在滑鼠移到桌子上時顯示 pointer 游標 */
.table-container,
.table-container .table {
  user-select: none;
  cursor: pointer;
}

.table-container .table {
  position: relative;
}

.table-container .table-controls {
  position: absolute;
  bottom: -24px;        /* 根據按鈕高度微調這個值 */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 4px;
}

/* 編輯按鈕同理 */
.table-container .edit-table-button {
  position: absolute;
  bottom: -25px;        /* 根據按鈕大小微調 */
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  padding: 4px 8px;
}

/* 編輯按鈕文字水平排列、不換行 */
.edit-table-button {
  display: inline-flex;         /* 以 flex-row 排列 */
  flex-direction: row;          /* 水平排列 */
  align-items: center;          /* 垂直置中 */
  justify-content: center;      /* 水平置中 */
  white-space: nowrap;          /* 不自動換行 */
}

/* --- Modal Form Styles --- */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal {
  background: #fff;
  padding: 20px;
  border-radius: 8px;
  width: 320px;
  max-width: 90%;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.modal h3 {
  margin: 0 0 12px;
  font-size: 20px;
  text-align: center;
}

.modal label {
  display: block;
  margin-bottom: 10px;
  font-size: 14px;
}

.modal label input,
.modal label select {
  width: 100%;
  padding: 6px 8px;
  margin-top: 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 14px;
  box-sizing: border-box;
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 16px;
}

.modal-actions button {
  padding: 6px 12px;
  font-size: 14px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.modal-actions button:first-child {
  background-color: #0077cc;
  color: #fff;
}

.modal-actions button:first-child:hover {
  background-color: #005fa3;
}

.modal-actions button:last-child {
  background-color: #ccc;
  color: #333;
}

.modal-actions button:last-child:hover {
  background-color: #aaa;
}

/* Table 下方的編輯按鈕 */
.edit-table-button {
  margin-top: 0px;
  padding: 4px 8px;
  font-size: 12px;
  border: 1px solid #666;
  background: #fff;
  border-radius: 4px;
  cursor: pointer;
}
/* 當滑鼠移到整個桌子容器時，讓編輯按鈕變色 */
.table-container:hover .edit-table-button {
  background: #eee;
}

.qr-options select {
  width: 100px;
}
.qr-options button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* 定義 glow 動畫：從小到大再回到小 */
@keyframes table-glow {
  0% {
    box-shadow: 0 0 8px 2px rgba(255, 0, 0, 0.6);
  }
  50% {
    box-shadow: 0 0 16px 8px rgba(255, 0, 0, 0.4);
  }
  100% {
    box-shadow: 0 0 8px 2px rgba(255, 0, 0, 0.6);
  }
}

@keyframes partial-glow {
  0% {
    box-shadow: 0 0 8px 2px rgba(255, 235, 59, 0.6);
  }
  50% {
    box-shadow: 0 0 16px 8px rgba(255, 235, 59, 0.4);
  }
  100% {
    box-shadow: 0 0 8px 2px rgba(255, 235, 59, 0.6);
  }
}

/* 部分佔用：黃色光暈 */
.table.partial {
  animation: partial-glow 2s infinite ease-in-out alternate;
  /* 初始色改成黃光 */
  box-shadow: 0 0 8px 2px rgba(255, 235, 59, 0.6);
}

/* 客滿：紅色光暈 */
.table.full {
  animation: table-glow 2s infinite ease-in-out alternate;
  /* 初始色改成紅光 */
  box-shadow: 0 0 8px 2px rgba(255, 136, 136, 0.6);
}

/* Navbar 里的按钮被 disabled 时灰显且禁止 hover */
.navbar button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}

/* 防止 disabled 时有 hover 效果 */
.navbar button:disabled:hover {
  background-color: initial;
}

/* 用 vmin（viewport 最小邊長的 1%）讓桌子大小自動縮放 */
.table {
  width:  clamp(5px, 7vmin, 60px);
  height: clamp(5px, 7vmin, 60px);
  border: 0.4vmin solid #666;  /* 線寬也用相對單位 */
  border-radius: 1vmin;       /* 圓角 */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* 文字、按鈕大小也同步調整 */
.table-id {
  font-size: 2.5vmin;
}
.table-info {
  font-size: 2vmin;
}
.table-controls button {
  width: 3.5vmin;
  height: 3.5vmin;
  font-size: 2.5vmin;
}
.edit-table-button {
  font-size: 1.5vmin;
  padding: 0.5vmin 1vmin;
  bottom: -3vmin;  /* 按鈕位置也改成相對 */
}

/* pending & selected 樣式如果有 border 也用相對單位 */
.table-container.pending {
  border: 0.3vmin dashed rgb(4, 255, 4);
}
.table-container.selected-delete .table {
  box-shadow: 0 0 0.4vmin 0.4vmin rgba(255,0,0,0.8);
}
.table-container.selected-move .table {
  box-shadow: 0 0 0.4vmin 0.4vmin rgba(0,0,255,0.8);
}

/* 桌子比例欄位 */
.ratio-label {
  display: block;
  margin-bottom: 10px;
  font-size: 14px;
}

/* 讓兩個輸入框＋乘號同排並撐滿 */
.ratio-inputs {
  display: flex;
  align-items: center;
  width: 100%;
  gap: 8px; /* 輸入框間距 */
  margin-top: 4px;
}

.ratio-inputs input {
  flex: 1;
  padding: 6px 8px;
  font-size: 14px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}

.ratio-mul {
  flex: none;
  font-size: 16px;
  line-height: 1;
  white-space: nowrap;
}
